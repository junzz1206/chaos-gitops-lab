---
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# auto-restart.yaml â€” ì¥ì•  ìë™ ë³µêµ¬ ì²˜ë¦¬
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- name: ğŸ” Auto Restart Service
  hosts: all
  become: yes
  vars:
    service_name: "nginx"             # ë³µêµ¬ ëŒ€ìƒ ì„œë¹„ìŠ¤
  tasks:
    - name: Restart failed service
      shell: |
        systemctl restart {{ service_name }}
      ignore_errors: yes

    - name: Check service status
      shell: systemctl is-active {{ service_name }}
      register: svc_status
      ignore_errors: yes

    - name: Log service recovery result
      debug:
        msg: "Service {{ service_name }} status: {{ svc_status.stdout }}"

