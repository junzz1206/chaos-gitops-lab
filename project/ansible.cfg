# ─────────────────────────────────────────────
# ansible.cfg — Ansible 기본 설정 (권장/운영 친화형)
# ─────────────────────────────────────────────
[defaults]

# 인벤토리 파일 경로 (상대/절대 모두 가능)
inventory = ./inventory/hosts.ini

# 로그 파일
log_path = ./ansible.log

# 기본 원격 사용자 (운영시에는 비-root 계정 권장)
# remote_user = ansible
remote_user = root

# 호스트 키 확인: 테스트 환경은 False / 운영은 True 권장
host_key_checking = False

# Roles(역할) 디렉터리
roles_path = ./roles

# 재시도 파일 생성 비활성화
retry_files_enabled = False

# 컬러 출력
force_color = True

# Python 자동 감지 (Ansible 2.12+)
interpreter_python = auto_silent

# 병렬 실행 수
forks = 10

# become 비밀번호 묻지 않음 (자동화 환경)
ask_become_pass = False

# SSH 최적화 (ControlPersist / ControlMaster)
# (Windows 환경이 아닌 리눅스/유닉스에서 사용 권장)
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ForwardAgent=yes
#¶ ControlPath 기본값이 너무 길면 에러 나는 환경 있으니 필요 시 아래 주석 해제
# control_path = %(directory)s/%%h-%%r

# pipelining: True로 하면 일부 작업이 더 빨라짐 (단, sudoers 설정 필요)
pipelining = True

# Callback / display 설정 (필요 시 활성화)
#stdout_callback = yaml  # 혹은 json, minimal 등

# Vault 관련 예시 (민감정보 관리 시 사용)
#vault_identity_list = dev@~/.ansible/vault_dev_id

